@inherits LayoutComponentBase
@using Blazored.Toast.Configuration
@inject Blazored.LocalStorage.ILocalStorageService localStorage
@inject NavigationManager NavMgr
@inject IJSRuntime jsRuntime
@inject UserProfileService Userservice
<PageTitle>Sedulur App</PageTitle>

<div class="web-none d-flex align-items-center px-3 pt-3">
    <a href="index" class="text-decoration-none">
        <img src="img/logo.png" class="img-fluid logo-mobile" alt="brand-logo">
    </a>
    <button class="ms-auto btn btn-primary ln-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
        <span class="material-icons">menu</span>
    </button>
</div>
<div class="py-4">
    <div class="container">
        <div class="row position-relative">
            <!-- Main Content -->
            @Body
            <SideMenu></SideMenu>
            <RightPanel2></RightPanel2>
        </div>
    </div>
</div>
<div class="py-3 bg-white footer-copyright">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-8">
                <span class="me-3 small">©2021 <b class="text-primary">Your Website</b>. All rights reserved</span>
            </div>
            <div class="col-md-4 text-end">
                <a target="_blank" href="#" class="btn social-btn btn-sm text-decoration-none"><i class="icofont-facebook"></i></a>
                <a target="_blank" href="#" class="btn social-btn btn-sm text-decoration-none"><i class="icofont-twitter"></i></a>
                <a target="_blank" href="#" class="btn social-btn btn-sm text-decoration-none"><i class="icofont-linkedin"></i></a>
                <a target="_blank" href="#" class="btn social-btn btn-sm text-decoration-none"><i class="icofont-youtube-play"></i></a>
                <a target="_blank" href="#" class="btn social-btn btn-sm text-decoration-none"><i class="icofont-instagram"></i></a>
            </div>
        </div>
    </div>
</div>
<!-- Post Modal -->
<div class="modal fade" id="postModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 p-4 border-0 bg-light">
            <div class="modal-header d-flex align-items-center justify-content-start border-0 p-0 mb-3">
                <a href="#" class="text-muted text-decoration-none material-icons" data-bs-dismiss="modal">arrow_back_ios_new</a>
                <h5 class="modal-title text-muted ms-3 ln-0" id="staticBackdropLabel"><span class="material-icons md-32">account_circle</span></h5>
            </div>
            <div class="modal-body p-0 mb-3">
                <div class="form-floating">
                    <textarea class="form-control rounded-5 border-0 shadow-sm" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 200px"></textarea>
                    <label for="floatingTextarea2" class="h6 text-muted mb-0">What's on your mind...</label>
                </div>
            </div>
            <div class="modal-footer justify-content-start px-1 py-1 bg-white shadow-sm rounded-5">
                <div class="rounded-4 m-0 px-3 py-2 d-flex align-items-center justify-content-between w-75">
                    <a href="#" class="text-muted text-decoration-none material-icons">insert_link</a>
                    <a href="#" class="text-muted text-decoration-none material-icons">image</a>
                    <a href="#" class="text-muted text-decoration-none material-icons">smart_display</a>
                    <span class="text-muted">0/500</span>
                </div>
                <div class="ms-auto m-0">
                    <a data-bs-dismiss="modal" href="#" class="btn btn-primary rounded-5 fw-bold px-3 py-2 fs-6 mb-0 d-flex align-items-center"><span class="material-icons me-2 md-16">send</span>Post</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Forget Modal -->
<ForgotPasswordPage></ForgotPasswordPage>
<!-- Register Modal -->
<RegisterPage></RegisterPage>
<!-- Sign In Modal -->
<LoginPage></LoginPage>
<!-- Language Modal -->
<div class="modal fade" id="languageModal" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 rounded-4 p-4">
            <div class="modal-header border-0 p-1">
                <h6 class="modal-title fw-bold text-body fs-6 d-flex justify-content-center" id="exampleModalLabel1">Choose Language</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form>
                <div class="modal-body pt-0 px-0">
                    <div class="row py-3 gy-3 m-0">
                        <!-- Langauge Item -->
                        <div class="langauge-item col-6 col-md-3 px-1 mt-2">
                            <input type="radio" class="btn-check" name="options-outlined" id="hindi1">
                            <label class="btn btn-language btn-sm px-2 py-2 rounded-5 d-flex align-items-center justify-content-between" for="hindi1">
                                <span class="text-start d-grid">
                                    <small class="ln-18">हिंदी</small>
                                    <small class="ln-18">Hindi</small>
                                </span>
                                <span class="material-icons text-muted md-20">check_circle</span>
                            </label>
                        </div>
                        <!-- Langauge Item -->
                        <div class="langauge-item col-6 col-md-3 px-1 mt-2">
                            <input type="radio" class="btn-check" name="options-outlined" id="english2" checked>
                            <label class="btn btn-language btn-sm px-2 py-2 rounded-5 d-flex align-items-center justify-content-between" for="english2">
                                <span class="text-start d-grid">
                                    <small class="ln-18">English</small>
                                    <small class="ln-18">English</small>
                                </span>
                                <span class="material-icons text-muted md-20">check_circle</span>
                            </label>
                        </div>
                        <!-- Langauge Item -->
                        <div class="langauge-item col-6 col-md-3 px-1 mt-2">
                            <input type="radio" class="btn-check" name="options-outlined" id="kannada3">
                            <label class="btn btn-language btn-sm px-2 py-2 rounded-5 d-flex align-items-center justify-content-between" for="kannada3">
                                <span class="text-start d-grid">
                                    <small class="ln-18">ಕನ್ನಡ</small>
                                    <small class="ln-18">kannada</small>
                                </span>
                                <span class="material-icons text-muted md-20">check_circle</span>
                            </label>
                        </div>
                        <!-- Langauge Item -->
                        <div class="langauge-item col-6 col-md-3 px-1 mt-2">
                            <input type="radio" class="btn-check" name="options-outlined" id="tamil4">
                            <label class="btn btn-language btn-sm px-2 py-2 rounded-5 d-flex align-items-center justify-content-between" for="tamil4">
                                <span class="text-start d-grid">
                                    <small class="ln-18">தமிழ்</small>
                                    <small class="ln-18">Tamil</small>
                                </span>
                                <span class="material-icons text-muted md-20">check_circle</span>
                            </label>
                        </div>
                        <!-- Langauge Item -->
                        <div class="langauge-item col-6 col-md-3 px-1 mt-2">
                            <input type="radio" class="btn-check" name="options-outlined" id="punjabi5">
                            <label class="btn btn-language btn-sm px-2 py-2 rounded-5 d-flex align-items-center justify-content-between mb-2" for="punjabi5">
                                <span class="text-start d-grid">
                                    <small class="ln-18">ਪੰਜਾਬੀ</small>
                                    <small class="ln-18">Punjabi</small>
                                </span>
                                <span class="material-icons text-muted md-20">check_circle</span>
                            </label>
                        </div>
                        <!-- Langauge Item -->
                        <div class="langauge-item col-6 col-md-3 px-1 mt-2">
                            <input type="radio" class="btn-check" name="options-outlined" id="punjabi511f">
                            <label class="btn btn-language btn-sm px-2 py-2 rounded-5 d-flex align-items-center justify-content-between mb-2" for="punjabi511f">
                                <span class="text-start d-grid">
                                    <small class="ln-18">Türk</small>
                                    <small class="ln-18">Turkish</small>
                                </span>
                                <span class="material-icons text-muted md-20">check_circle</span>
                            </label>
                        </div>
                        <!-- Langauge Item -->
                        <div class="langauge-item col-6 col-md-3 px-1 mt-2">
                            <input type="radio" class="btn-check" name="options-outlined" id="punjabi51f">
                            <label class="btn btn-language btn-sm px-2 py-2 rounded-5 d-flex align-items-center justify-content-between mb-2" for="punjabi51f">
                                <span class="text-start d-grid">
                                    <small class="ln-18">français</small>
                                    <small class="ln-18">French</small>
                                </span>
                                <span class="material-icons text-muted md-20">check_circle</span>
                            </label>
                        </div>
                        <!-- Langauge Item -->
                        <div class="langauge-item col-6 col-md-3 px-1 mt-2">
                            <input type="radio" class="btn-check" name="options-outlined" id="other">
                            <label class="btn btn-language btn-sm px-2 py-2 rounded-5 d-flex align-items-center justify-content-between mb-2" for="other">
                                <span class="text-start d-grid">
                                    <small class="ln-18">Other</small>
                                    <small class="ln-18">Other</small>
                                </span>
                                <span class="material-icons text-muted md-20">check_circle</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-0 p-1">
                    <button type="button" class="btn btn-primary w-100 text-decoration-none rounded-5 py-3 fw-bold text-uppercase m-0" data-bs-dismiss="modal">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Comment Modal -->
<div class="modal fade" id="commentModal" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 overflow-hidden border-0">
            <div class="modal-header d-none">
                <h5 class="modal-title" id="exampleModalLabel2">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-0">
                <div class="row m-0">
                    <div class="col-sm-7 px-0 m-sm-none">
                        <!-- Image Slider -->
                        <div class="image-slider">
                            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                                <div class="carousel-indicators">
                                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                </div>
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img src="img/post-img1.jpg" class="d-block w-100" alt="...">
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/post-img2.jpg" class="d-block w-100" alt="...">
                                    </div>
                                    <div class="carousel-item">
                                        <img src="img/post-img3.jpg" class="d-block w-100" alt="...">
                                    </div>
                                </div>
                                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Previous</span>
                                </button>
                                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Next</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-5 content-body px-web-0">
                        <div class="d-flex flex-column h-600">
                            <div class="d-flex p-3 border-bottom">
                                <img src="img/rmate4.jpg" class="img-fluid rounded-circle user-img" alt="profile-img">
                                <div class="d-flex align-items-center justify-content-between w-100">
                                    <a href="profile" class="text-decoration-none ms-3">
                                        <div class="d-flex align-items-center">
                                            <h6 class="fw-bold text-body mb-0">iamosahan</h6>
                                            <p class="ms-2 material-icons bg-primary p-0 md-16 fw-bold text-white rounded-circle ov-icon mb-0">done</p>
                                        </div>
                                        <p class="text-muted mb-0 small">@("johnsmith")</p>
                                    </a>
                                    <div class="small dropdown">
                                        <a href="#" class="text-muted text-decoration-none material-icons ms-2 md-" data-bs-dismiss="modal">close</a>
                                    </div>
                                </div>
                            </div>
                            <div class="comments p-3">
                                <div class="d-flex mb-2">
                                    <img src="img/rmate1.jpg" class="img-fluid rounded-circle" alt="profile-img">
                                    <div class="ms-2 small">
                                        <div class="bg-light px-3 py-2 rounded-4 mb-1 chat-text">
                                            <p class="fw-500 mb-0">Macie Bellis</p>
                                            <span class="text-muted">Consectetur adipisicing elit.</span>
                                        </div>
                                        <div class="d-flex align-items-center ms-2">
                                            <a href="#" class="small text-muted text-decoration-none">Like</a>
                                            <span class="fs-3 text-muted material-icons mx-1">circle</span>
                                            <a href="#" class="small text-muted text-decoration-none">Reply</a>
                                            <span class="fs-3 text-muted material-icons mx-1">circle</span>
                                            <span class="small text-muted">1h</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex mb-2">
                                    <img src="img/rmate3.jpg" class="img-fluid rounded-circle" alt="profile-img">
                                    <div class="ms-2 small">
                                        <div class="bg-light px-3 py-2 rounded-4 mb-1 chat-text">
                                            <p class="fw-500 mb-0">John Smith</p>
                                            <span class="text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.</span>
                                        </div>
                                        <div class="d-flex align-items-center ms-2">
                                            <a href="#" class="small text-muted text-decoration-none">Like</a>
                                            <span class="fs-3 text-muted material-icons mx-1">circle</span>
                                            <a href="#" class="small text-muted text-decoration-none">Reply</a>
                                            <span class="fs-3 text-muted material-icons mx-1">circle</span>
                                            <span class="small text-muted">20min</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex mb-2">
                                    <img src="img/rmate2.jpg" class="img-fluid rounded-circle" alt="profile-img">
                                    <div class="ms-2 small">
                                        <div class="bg-light px-3 py-2 rounded-4 mb-1 chat-text">
                                            <p class="fw-500 mb-0">Shay Jordon</p>
                                            <span class="text-muted">With our vastly improved notifications system, users have more control.</span>
                                        </div>
                                        <div class="d-flex align-items-center ms-2">
                                            <a href="#" class="small text-muted text-decoration-none">Like</a>
                                            <span class="fs-3 text-muted material-icons mx-1">circle</span>
                                            <a href="#" class="small text-muted text-decoration-none">Reply</a>
                                            <span class="fs-3 text-muted material-icons mx-1">circle</span>
                                            <span class="small text-muted">10min</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="border-top p-3 mt-auto">
                                <div class="d-flex align-items-center justify-content-between mb-2">
                                    <div>
                                        <a href="#" class="text-muted text-decoration-none d-flex align-items-start fw-light"><span class="material-icons md-20 me-2">thumb_up_off_alt</span><span>30.4k</span></a>
                                    </div>
                                    <div>
                                        <a href="#" class="text-muted text-decoration-none d-flex align-items-start fw-light"><span class="material-icons md-20 me-2">repeat</span><span>617</span></a>
                                    </div>
                                    <div>
                                        <a href="#" class="text-muted text-decoration-none d-flex align-items-start fw-light"><span class="material-icons md-18 me-2">share</span><span>Share</span></a>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <span class="material-icons bg-white border-0 text-primary pe-2 md-36">account_circle</span>
                                    <div class="d-flex align-items-center border rounded-4 px-3 py-1 w-100">
                                        <input type="text" class="form-control form-control-sm p-0 rounded-3 fw-light border-0" placeholder="Write Your comment">
                                        <a href="#" class="bg-white border-0 text-primary ps-2 text-decoration-none">Post</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer d-none">
            </div>
        </div>
    </div>
</div>

<BlazoredToasts Position="ToastPosition.BottomRight"
                Timeout="10"
                SuccessClass="success-toast-override"
                SuccessIconClass="fa fa-thumbs-up"
                ErrorIconClass="fa fa-bug" />

@code {
    [CascadingParameter]
    private Task<AuthenticationState> authenticationStateTask { get; set; }
    async Task Keluar()
    {
        NavMgr.NavigateTo($"/logout", true);
        //await localStorage.SetItemAsync(AppConstants.NameKey, "");
        //NavMgr.NavigateTo($"/login");
    }

    string Nama = "Saya";
    protected override async Task OnInitializedAsync()
    {


        var user = (await authenticationStateTask).User;

        if (user.Identity.IsAuthenticated)
        {
            var UserName = user.Identity.Name;
            Nama = Userservice.GetUserByEmail(UserName)?.FullName;
        }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {



    }

}